---
import { NAVIGATION } from '@config/site';
import { Image } from 'astro:assets';
import logoMark from '@assets/shibaura-logo-mark.svg';
import MobileMenu from '@components/react/MobileMenu';

const { currentPathname } = Astro.props;
const isActiveLink = (href: string) : boolean => { return href === currentPathname; }

---

<header class="sticky top-0 z-50 w-full border-b border-slate-200 bg-white/95 backdrop-blur-md shadow-sm">
  <nav class="container mx-auto flex h-20 items-center justify-between px-4 sm:px-6 lg:px-8">
    <!-- Logo -->
    <div class="flex items-center">
      <a href="/" class="flex items-center space-x-3 group">
    <div class="flex items-center justify-center w-10 h-10 rounded-lg bg-linear-to-br from-[#E11D48] to-[#F97316] group-hover:scale-110 transition-transform">
      <Image src={logoMark} alt="Shibaura logo" class="w-11 h-11" />
    </div>
    <span class="text-2xl font-bold bg-linear-to-r from-[#E11D48] to-[#F97316] bg-clip-text text-transparent">
      Portable Fire Pumps
    </span>
      </a>
    </div>

    <!-- Desktop Navigation -->
    <div class="hidden lg:flex lg:items-center lg:space-x-1">
      {NAVIGATION.map((item) => {
        const isActive = isActiveLink(item.href);
        return (
        <a
          href={item.href}
          class={`px-4 py-2 text-sm font-medium text-slate-700 hover:text-[#E11D48] hover:bg-[#FFF1F2] rounded-lg transition-all relative group ${isActive ? 'nav-active' : ''}`}
        >
          {item.name}
        </a>
      );
      })}
    </div>

    <!-- CTA Button -->
    <div class="hidden lg:flex lg:items-center lg:space-x-4">
      <a
        href="/rfq"
        class="inline-flex items-center px-6 py-2.5 text-sm font-semibold text-white bg-linear-to-r from-[#E11D48] to-[#F97316] hover:from-[#BE123C] hover:to-[#EA580C] rounded-lg shadow-md hover:shadow-lg transition-all"
      >
        Request Quote
      </a>
    </div>

    <!-- Mobile Menu Button -->
    <MobileMenu client:idle />
  </nav>
</header>
